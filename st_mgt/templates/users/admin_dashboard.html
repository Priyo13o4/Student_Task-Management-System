{% load static %}
<!DOCTYPE html>
<html lang = en>
    <head>
        <meta charset="UTF-8">
        <title>Admin Dashboard</title>
        <link rel = "stylesheet" href = "{% static 'css/admin_styles.css' %}">
<<<<<<< HEAD
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
=======
        <script>
            function updateEmail() {
                const userId = document.getElementById('id_user').value;
                if (userId) {
                    fetch(`/api/user-email/${userId}/`)
                        .then(response => response.json())
                        .then(data => {
                            document.getElementById('id_email').value = data.email;
                        });
                }
            }
        </script>
>>>>>>> dcd19e2435252c9df695ede76007c4fb5c972187
    </head>
    <body>
        {% if messages %}
            <ul class="messages">
                {% for message in messages %}
                    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li> <!-- This will print when user creation is successful-->
                {% endfor %}
            </ul>
        {% endif %}
    <div id="welcome">
        Greetings : {{ request.user.first_name }} {{ request.user.last_name }} ({{ request.user.username }})
    </div>
    <nav id="profile_menu">
        <div class="topmenu">
            <a href="{% url 'logout' %}">Logout</a>
            <a href="{% url 'student_list' %}">Manage Students</a>
            <a href="{% url 'faculty_list' %}">Manage Faculty</a>
        </div>
    </nav>
  <section id="Summary">
    <h2>Summary</h1>

        <h1>Total Students</h1>
            <p>{{total_students}}</p>
        <h1>Total Faculty</h1>
            <p>{{total_faculty}}</p>
        <h1>Total Tasks</h1>
            <p>{{total_tasks}}</p>
        <h1>Total Courses</h1>
            <p>{{total_courses}}</p>
    </section>
    <section id="Summary">
        <div class="summary-card">
            <h3>Total Students</h3>
            <span>{{ total_students }}</span>
        </div>
        <div class="summary-card">
            <h3>Total Faculty</h3>
            <span>{{ total_faculty }}</span>
        </div>
        <div class="summary-card">
            <h3>Total Tasks</h3>
            <span>{{ total_tasks }}</span>
        </div>
        <div class="summary-card">
            <h3>Total Courses</h3>
            <span>{{ total_courses }}</span>
        </div>
    </section>

    <div></div>
    <section id="create-user">

        <h2>Create New User</h2>
        <form method="POST">
            {% csrf_token %}
            {{ user_form.as_p}}
            <button type="submit" name="create_user">Create User</button>
        </form>
    </section>
    <div></div>
    <section id = "create student">
        <h2>Create New Student</h2>
        <form method="POST">
            {%csrf_token%}
            {{student_form.as_p}}
            <button type="submit" name="create_student">Create student</button>
        </form>
    </section>
    <div></div>
    <section id = "create faculty">
        <h2>Create New Faculty</h2>
        <form method="POST">
            {%csrf_token%}
            {{faculty_form.as_p}}
            <button type="submit" name="create_faculty">Create faculty</button>
        </form>
    </section>
    <div></div>
    <section id = "create Task">
        <h2>Create a Task</h2>
        <form method="POST">
            {%csrf_token%}
            {{task_form.as_p}}
            <button type="submit" name="create_task">Create task</button>
        </form>
    </section>

    </body>

</html>
