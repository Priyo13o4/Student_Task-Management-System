{% load static %}
<!DOCTYPE html>
<html>
<head>
  <title>Manage {{ student.user.first_name }} {{ student.user.last_name }}</title>
  <link rel="stylesheet" href="{% static 'css/admin_style.css' %}">
</head>
<body>
  <h1>Manage {{ student.user.first_name }} {{ student.user.last_name }} ({{ student.user.username }})</h1>
  <p><strong>Name:</strong> {{ student.user.first_name }} {{ student.user.last_name }}</p>
  <p><strong>Roll No:</strong> {{ student.register_no }}</p>
  <p><strong>Department:</strong> {{ student.department }}</p>
  <p><strong>Level:</strong> {{ student.level }}</p>
  <p><strong>Current GPA:</strong> {{ gpa }}</p>

  <h2>Enrolled Courses</h2>
  <ul>
    {% for c in courses %}
      <li>{{ c.name }} ({{ c.code }})</li>
    {% endfor %}
  </ul>

  <h2>Grades</h2>
  <ul>
    {% for g in grades %}
      <li>{{ g.course.name }}: {{ g.grade }}</li>
    {% empty %}
      <li>No grades assigned yet.</li>
    {% endfor %}
  </ul>

  <h2>Assign / Update Grade</h2>
  <form method="POST">
    {% csrf_token %}
    {{ grade_form.non_field_errors }}
    {{ grade_form.as_p }}
    <button type="submit" name="submit_grade">Save Grade</button>
  </form>

  <p><a href="{% url 'student_list' %}">← Back to Student List</a></p>
</body>
</html>